const unified = require('unified')
const markdown = require('remark-parse')
const html = require('remark-html')
const contents = require("remark-contents")
const report = require('vfile-reporter')

function mdTocConvert(md, el) {
    return unified()
            .use(markdown)
            .use(contents)
            .use(html)
            .process(md, (err, file) => {
                // console.log('nav', String(file))
                console.error(report(err || file))
                return el.innerHTML = String(file)
            })
}

module.exports = mdTocConvert