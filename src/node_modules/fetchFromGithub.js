async function fetchFromGithub ({name, repo, path} = {}, done) {
  const url = location.origin.includes('localhost') || location.port === '9966' ?
    `${location.protocol}//${location.host}/${path}`
    : `https://raw.githubusercontent.com/${name}/${repo}/master/${path}`
  try {
    const result = await fetch(url).then(x => x.text())
    done(null, result)
  } catch (error) {
    done(error)
  }
}

module.exports = fetchFromGithub